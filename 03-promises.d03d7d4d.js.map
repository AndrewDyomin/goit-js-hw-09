{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAChCC,EAAWF,SAASG,iBAAiB,UACnCC,EAAOC,EAAMC,GAAWJ,EAEhCH,EAAOQ,iBAAiB,UAKxB,SAAuBC,GACrBA,EAAMC,iBACJC,YAAW,KACTC,EAAUC,aAAY,KACpB,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAU,IAAIC,SAAQ,CAACC,EAASC,KAChCN,EACFK,EAAQ,C,SAAEE,E,MAAUhB,IAEpBe,EAAO,C,SAAEC,E,MAAUhB,GAAQ,IAG3BgB,EAAWd,EAAOe,MACpBD,IAEAE,cAAcX,GAEhBK,EACCO,MAAK,EAAGC,SAAAC,EAAUC,MAAAC,MACjBC,EAAA/B,GAASgC,OAAOC,QAAQ,uBAAqBL,QAAiBE,EAAEN,UAAc,IAE/EU,OAAM,EAAGP,SAAAQ,EAAUN,MAAAO,MAClBL,EAAA/B,GAASgC,OAAOK,QAAQ,sBAAoBF,QAAeC,EAAEZ,UAAc,GAC3E,GACDhB,EAAKgB,MAAM,GACfjB,EAAMiB,M,IA5BX,IAAID,EAAW,EACXT,EAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nconst inputArr = document.querySelectorAll('input');\nconst [ delay, step, amount ] = inputArr;\n\nformEl.addEventListener('submit', createPromise);\n\nlet position = 1;\nlet timerId = null;\n\nfunction createPromise(event) {\n  event.preventDefault();\n    setTimeout(() => {\n      timerId = setInterval(() => {\n        const shouldResolve = Math.random() > 0.3;\n        const promise = new Promise((resolve, reject) => {\n          if (shouldResolve) {\n            resolve({ position, delay });\n          } else {\n            reject({ position, delay });\n          }\n        });\n        if (position < amount.value) {\n          position ++;\n        } else {\n          clearInterval(timerId);\n        }\n        promise\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay.value}ms`);\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay.value}ms`);\n        });\n      }, step.value)\n  }, delay.value)\n};\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$inputArr","querySelectorAll","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","addEventListener","event","preventDefault","setTimeout","$47d4ff9957288465$var$timerId","setInterval","shouldResolve","Math","random","promise","Promise","resolve","reject","$47d4ff9957288465$var$position","value","clearInterval","then","position","position1","delay","delay1","$parcel$interopDefault","Notify","success","catch","position2","delay2","failure"],"version":3,"file":"03-promises.d03d7d4d.js.map"}